<h1>Stats</h1>

  <match-score match="stat.currentGame"></match-score>

  <md-card>
    <md-card-content>
     <h2 class="md-title">Global Stats</h2>

      <div layout="row" layout-margin layout-fill layout-padding>
        <md-list flex>
          <md-list-item class="md-2-line">
          <div class="md-list-item-text">
            <p>Total points : {{stat.totalPoints()}}</p>
          </div>
          <md-divider></md-divider>
        </md-list-item>

          <md-list-item class="md-2-line">
          <div class="md-list-item-text">
            <p>Total Sets : {{stat.nbSet()}}</p>
          </div>
          <md-divider></md-divider>
        </md-list-item>

          <md-list-item class="md-2-line">
          <div class="md-list-item-text">
            <p> Max consecutives points : {{stat.getMaxConsecutivePointsForMatch()}}</p>
          </div>
        </md-list-item>
        </md-list>

        <div flex>
          <progress max="stat.totalPoints()">
            <bar value="stat.totalPointsWinForATeam(1)">{{stat.currentGame.teams.team1}} {{stat.totalPointsWinForATeam(1)}}</bar>
            <bar value="stat.totalPointsWinForATeam(2)" type="danger">{{stat.currentGame.teams.team2}} {{stat.totalPointsWinForATeam(2)}}</bar>
          </progress>
        </div>
      </div>

    </md-card-content>

  </md-card>

  <div layout="row" layout-margin layout-fill layout-padding>
    <team-stats flex stats="stat.team1"></team-stats>
    <team-stats flex stats="stat.team2"></team-stats>
  </div>

  <h2>Time Machine</h2>
  <p>
    Set : <num-select nb-options="stat.nbSet()" start-at-one="true" on-change="stat.tmSetChanged()" ng-model="stat.currentSet"></num-select>
  </p>
  <p>
    Point : <num-select nb-options="stat.currentSetPoints()" start-at-one="true" ng-model="stat.currentPoint"></num-select>
  </p>
  {{stat.currentSetScore(1)}} - {{stat.currentSetScore(2)}}

  <h2>Evolution points difference</h2>
  <p>
    Set : <num-select nb-options="stat.nbSet()" start-at-one="true" on-change="stat.scoreDifferenceEvolution()" ng-model="stat.diffCurrentSet"></num-select>
  </p>
  Max difference in the set : {{stat.maxDiff}}

  <set-evolution-chart set="stat.currentGame.score[stat.diffCurrentSet - 1]"></set-evolution-chart>
<div>

<p>
  <a href="#/histo" class="btn btn-primary">Back</a>
</p>
</div>
